<!DOCTYPE html>
<html lang="en"> 
  <head>
    <meta charset="utf-8">
    <title>microlib-iot-dashboard</title>

    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-reset.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet" />
    <link href="css/responsive.css" rel="stylesheet" />
    <link href="css/notie.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/local-style.css" rel="stylesheet" />

    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,‌​100italic,300,300ita‌​lic,400italic,500,50‌​0italic,700,700itali‌​c,900italic,900' rel='stylesheet' type='text/css'>
  </head>
  <body>

    <section id="container">
      <div id="header">&nbsp;</div>
      <aside>
       <div tabindex="5000" style="overflow: hidden;" id="sidebar" class="nav-collapse">&nbsp;</div>
      </aside>
      <section id="main-content">
        <section id="main-container" class="wrapper">
        </section>
      </section>
    </section>

    <script src="js/w3include.js"></script>
    <script src="js/Chart.bundle.js"></script>
    <script src="js/iot-dashboard.js"></script>
    <script>

      // system libs
      const exec = require('child_process').exec;
      const config = require('./config.json');
      const notie = require('./js/notie.js');
      const fs = require('fs');
      const bunyan = require('bunyan');
      const log = bunyan.createLogger({name: "iot-dashboard",stream: process.stdout,level: "debug"});

      let charts = {};
      let currentPage = 0;
      let timer = null;
      let timerList = [];
      let testmode = false;
      let canvas = [];
      let iotvalues = [
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ],
        [ 8,9,10,11,12,13,14,25,24,23,7,5 ]
      ];

      // startup calls
      
      let iotdata = {
        "channels" : [
          {
            "name": "vat-01",
            "id": "1",
            "values": [ 23,22,21,15,10,5,7,25,2,3,11,12 ]
          }
        ]
      };

      includeHtml();
      buildMenu();
      pageSelector(0,'overview');
      buildBarGraphs(iotdata.channels[0],25);
      log.info('Starting application iot-dashboard');
      // set time interval to fetch cloud data
      timer = setInterval(getCloudData,30000);

    </script>
  
</body>
</html>
